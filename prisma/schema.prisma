// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider        = "prisma-client-js"
    previewFeatures = ["driverAdapters"]
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")

    // Do not use foreign keys (PlanetScale does not support them)
    relationMode = "prisma"
}

enum RelationshipStatus {
    None
    Pending
    Situationship
    Taken
}

enum ApplicationStatus {
    None
    Pending
    Ranked
    Completed
}

model UserProfile {
    userID Int @id @default(autoincrement())
    firstName String
    lastName String
    currentYear Int
    currentTerm String
    genderIdentity String?
    sexuality String?
    dateOfBirth DateTime
    height Int
    nextTerm1 String
    nextTerm2 String
    nextTerm3 String
    cityOfResidence String?
    provinceOfResidence String
    accountCreatedDate DateTime
    @@index([userID])
}

model Documents {
    documentID Int @id @default(autoincrement())
    userID Int
    documentType String
    link String
}

model Images {
    imageOwnerID Int
    typeOfImage String
    imageLink String
    @@unique([imageOwnerID, typeOfImage, imageLink])
}

model Applications {
    applicantID Int
    receiverID Int
    resume String
    coverLetter String
    letterOfRecommendation String
    applicationStatus ApplicationStatus
    @@unique([applicantID, receiverID])
}

model Relationship {
    userOneID Int
    userTwoID Int
    rankFwd Int
    rankBwd Int
    status String
    @@unique([userOneID, userTwoID])
}

model Socials {
    userId Int
    socialType String
    socialLink String
    @@unique([userId, socialType])
}