generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["driverAdapters"]
}

datasource db {
  provider     = "sqlite"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model UserProfile {
    UserID Int @id 
    Name String
    DateOfBirth String
    Gender String
    SexualOrientation String
    Height Int
    School String
    YearAndMajor String
    Location String
    CurrentStudyTerm String
    Mbti Int
    Tags String 
    PhoneNumber String
    Discord String 
    Instagram String
    PersonalDescription String 
    RelationshipStyle String 
    BenefitsAndCompensation String 
    Interests String 
    DealBreakers String 
    DesiredTraits String
    AccountCreatedDate DateTime
    @@index([UserID])
}

model Documents {
    DocumentID Int @id @default(autoincrement())
    UserID Int
    Link String
}

model Images {
    ImageOwnerID Int 
    ImageType Int
    ImageLink String
    @@unique([ImageOwnerID, ImageType, ImageLink])
}


// Application Status: 
//  0 - applied + rejected
// -1 - blacklisted
//  1 - matched but not ranked (do we need to care)
//  2 - ranking process (possibly Rank will have a value)
//  3 - final match received
//  4 - ARE YOU ALLOWED TO FINAL MATCH WITH MULTIPLE PEOPLE?
//  10 - Completed
model Applications {
    ApplicantID Int
    ReceiverID Int
    Resume String
    CoverLetter String
    LetterOfRecommendation String
    ApplicationStatus Int
    Rank Int 
    @@unique([ApplicantID, ReceiverID])
}

// Relationship Status:
// 0 - blocked
// 1 - in a relationship (dating)
model Relationship {
    UserOneID Int
    UserTwoID Int
    Blocked Boolean
    InRelationship Boolean
    @@unique([UserOneID, UserTwoID])
}

model Socials {
    UserID Int
    SocialType Int
    SocialLink String
    @@unique([UserID, SocialType])
}

model Notifications {
    ReceiverID Int
    NotificationID Int @id @default(autoincrement())
    Title String
    Message String 
    TimeCreated DateTime
    Status Boolean
}